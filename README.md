# Text2Map - 文本转思维导图工具

🧠 一个基于 AI 的智能文本转思维导图工具，采用现代化 Web 界面设计，能够将长文本（如文章、会议记录、播客文稿、字幕文件等）自动转换为结构化的交互式思维导图。

## ✨ 功能特点

- **🤖 智能分析**：基于 Google Gemini 1.5 Flash 模型，深度理解文本结构和逻辑关系
- **📊 可视化展示**：交互式思维导图，支持缩放、折叠和导航
- **🎨 现代界面**：基于现代设计理念的美观 UI，卡片式布局和流畅动画
- **📁 多格式支持**：支持 TXT、MD、DOCX、PDF、SRT 等多种文件格式
- **💾 便捷导出**：一键下载 Markdown 格式，带时间戳避免重名
- **📱 响应式设计**：完美适配桌面和移动设备

## 🛠️ 技术栈

- **前端框架**：Streamlit + 现代 CSS 设计
- **AI 模型**：Google Gemini 1.5 Flash
- **思维导图组件**：streamlit-markmap
- **文档处理**：PyPDF2、python-docx、srt
- **编程语言**：Python 3.x
- **UI 设计**：现代化卡片布局，响应式设计

## 📋 系统要求

- Python 3.8+
- Google AI API Key（Gemini）
- 现代浏览器（推荐 Chrome、Firefox、Safari）

## 🚀 快速开始

### 1. 克隆项目

```bash
git clone https://github.com/qingchejun/text2map.git
cd text2map
```

### 2. 安装依赖

```bash
pip install -r requirements.txt
```

### 3. 配置 API Key

创建 `.env` 文件并添加你的 Google AI API Key：

```env
GOOGLE_API_KEY=your_google_ai_api_key_here
```

### 4. 运行应用

```bash
streamlit run streamlit_app.py
```

应用将在浏览器中自动打开，通常地址为：`http://localhost:8501`

## 📖 使用说明

1. **输入文本**：在文本框中粘贴或输入要转换的文本内容
2. **生成思维导图**：点击"生成思维导图"按钮
3. **查看结果**：系统将自动生成交互式思维导图
4. **查看源码**：可在下方展开区域查看生成的 Markdown 源码

## 📁 项目结构

```
text2map/
├── main.py              # 核心 AI 处理逻辑
├── streamlit_app.py     # Streamlit Web 应用
├── requirements.txt     # 项目依赖
├── README.md           # 项目说明文档
└── .env                # 环境变量配置（需自创建）
```

## 📖 使用说明

### 🖥️ Web 界面操作

1. **📝 文本输入**：
   - 在左侧文本框中直接输入或粘贴文本内容
   - 支持长文本，如文章、会议记录、学术论文等

2. **📁 文件上传**：
   - 在右侧上传区域选择文件
   - 支持格式：`.txt`、`.md`、`.docx`、`.pdf`、`.srt`
   - 文件内容会自动解析并优先使用

3. **🚀 生成思维导图**：
   - 点击"🚀 生成思维导图"按钮
   - AI 将智能分析文本结构和关键信息
   - 实时显示处理进度和状态

4. **🎯 查看和操作结果**：
   - 交互式思维导图支持缩放、拖拽和节点展开/折叠
   - **📥 下载 MD**：保存为带时间戳的 Markdown 文件
   - **🔄 重新生成**：使用相同文本重新生成
   - **📋 复制文本**：快速复制生成的内容

5. **📚 源码查看**：
   - 展开"📖 查看/复制 Markdown 源码"区域
   - 查看完整的 Markdown 格式源码
   - 支持代码高亮和行号显示

## 🔧 命令行使用

除了 Web 界面外，还支持命令行模式：

1. 创建 `input.txt` 文件，将要处理的文本内容放入其中
2. 运行命令：`python main.py`
3. 处理结果将保存到 `output.md` 文件中

## ⚠️ 注意事项

- **🔐 API 安全**：Google AI API Key 请妥善保管，不要提交到公共代码仓库
- **🌐 网络要求**：确保网络连接正常，需要访问 Google AI API 服务
- **⏱️ 处理时间**：处理大文本可能需要较长时间，请耐心等待
- **📝 文本长度**：建议单次处理文本长度在 10,000 字符以内，获得更好的生成质量
- **📁 文件优先级**：同时提供文本和文件时，系统优先使用文件内容
- **🔄 重试机制**：如果生成失败，可以点击"重新生成"重试
- **💻 浏览器兼容性**：推荐使用现代浏览器以获得最佳视觉效果

## 🎨 界面特色

- **现代设计**：采用卡片式布局，玻璃态效果和渐变背景
- **流畅动画**：悬浮效果、按钮动画和过渡效果
- **响应式布局**：完美适配桌面、平板和手机设备
- **视觉层次**：清晰的信息架构和视觉引导
- **交互反馈**：丰富的视觉反馈和状态提示
